import{r as n,j as e}from"./@react-vendor-DfZ2FJF2.js";import{u as b,a as h,b as j,c as v,L as S,T as u,B as d}from"./index-BrH10NPX.js";import{p as k,d as y,e as w}from"./@networking-vendor-C--vnpcj.js";const T=async t=>k("/v2/users/login",t).then(a=>a.data),C=({onError:t,onSuccess:a})=>b({mutationFn:T,onError:s=>{t&&t(s)},onSuccess:s=>{a&&a(s)}});function R(){const t=h(),{onSocketConnect:a}=j(),{onToast:i}=v(),[s,x]=n.useState("test111"),[l,m]=n.useState("test111!"),[f,r]=n.useState(!1),{mutate:c}=C({onSuccess({tokens:o}){w(o),a(),r(!1),t("/",{replace:!0})},onError(o){r(!1),i(o.message,{delay:5e3})}}),p=n.useCallback(o=>{o.preventDefault(),r(!0),c({id:s,password:l})},[c,s,l]),g=n.useCallback(()=>{t("/register")},[t]);return n.useEffect(()=>{y()},[]),e.jsxs("div",{className:"flex h-full w-full items-start justify-center",children:[f&&e.jsx("div",{className:"fixed inset-0 z-1000 flex cursor-progress items-center justify-center bg-black/30",children:e.jsx(S,{})}),e.jsxs("form",{className:"flex w-full max-w-screen-md flex-col gap-5 px-5",onSubmit:p,children:[e.jsx("h1",{className:"mb-5 text-center font-jua text-28-R-36 text-white md:mb-10 md:text-36-R-40 dark:text-primary-100",children:"작은 대화"}),e.jsx(u,{labelText:"Id",type:"text",value:s,onChange:x,placeholder:"아이디를 입력하세요."}),e.jsx(u,{labelText:"Password",type:"password",value:l,onChange:m,placeholder:"비밀번호를 입력하세요."}),e.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[e.jsx(d,{disabled:!s&&!l,size:"large",text:"로그인",type:"submit",variant:"contained"}),e.jsx(d,{size:"large",text:"회원가입",type:"button",variant:"outlined",onClick:g})]})]})]})}export{R as default};
