import{f as j,D as h,n as b,e as v,l as y,r as o,E as S,j as e,t as w,T as c,B as u,G as T}from"./index-BBeZkXAz.js";const k=async t=>h("/v2/users/login",t).then(a=>a.data),N=({onError:t,onSuccess:a})=>j({mutationFn:k,onError:s=>{t&&t(s)},onSuccess:s=>{a&&a(s)}});function C(){const t=b(),{onSocketConnect:a}=v(),{onToast:i}=y(),[s,d]=o.useState("test111"),[l,x]=o.useState("test111!"),[f,r]=o.useState(!1),m=N({onSuccess({tokens:n}){T(n),a(),r(!1),t("/",{replace:!0})},onError(n){r(!1),i(n.message,{delay:5e3})}}),g=n=>{n.preventDefault(),r(!0),m.mutate({id:s,password:l})},p=()=>{t("/register")};return o.useEffect(()=>{S()},[]),e.jsxs("div",{className:"mt-10 flex w-full items-start justify-center",children:[f&&e.jsx("div",{className:"fixed inset-0 z-1000 flex cursor-progress items-center justify-center bg-black/30",children:e.jsx(w,{})}),e.jsxs("form",{className:"flex w-full max-w-screen-md flex-col gap-5 px-5",onSubmit:g,children:[e.jsx("h1",{className:"mb-10 text-center font-jua text-36-R-40 text-white dark:text-primary-100",children:"작은 대화"}),e.jsx(c,{labelText:"Id",placeholder:"아이디를 입력해 주세요.",type:"text",value:s,onChange:d}),e.jsx(c,{labelText:"Password",placeholder:"비밀번호를 입력해 주세요.",type:"password",value:l,onChange:x}),e.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[e.jsx(u,{disabled:!s&&!l,size:"large",text:"로그인",type:"submit",variant:"contained"}),e.jsx(u,{size:"large",text:"회원가입",type:"button",variant:"outlined",onClick:p})]})]})]})}export{C as default};
