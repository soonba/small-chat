import{f as j,C as h,n as b,e as v,k as y,r as o,D as S,l as e,s as k,T as c,B as u,E as T}from"./index-D4QRjxp_.js";const w=async t=>h("/v2/users/login",t).then(a=>a.data),N=({onError:t,onSuccess:a})=>j({mutationFn:w,onError:s=>{t&&t(s)},onSuccess:s=>{a&&a(s)}});function E(){const t=b(),{onSocketConnect:a}=v(),{onToast:i}=y(),[s,d]=o.useState("test111"),[r,x]=o.useState("test111!"),[f,l]=o.useState(!1),m=N({onSuccess({tokens:n}){T(n),a(),l(!1),t("/",{replace:!0})},onError(n){l(!1),i(n.message,{delay:5e3})}}),g=n=>{n.preventDefault(),l(!0),m.mutate({id:s,password:r})},p=()=>{t("/register")};return o.useEffect(()=>{S()},[]),e.jsxs("div",{className:"mt-10 flex w-full items-start justify-center",children:[f&&e.jsx("div",{className:"fixed inset-0 z-1000 flex cursor-progress items-center justify-center bg-black/30",children:e.jsx(k,{})}),e.jsxs("form",{className:"flex w-full max-w-screen-md flex-col gap-5 px-5",onSubmit:g,children:[e.jsx("h1",{className:"mb-10 text-center font-jua text-36-R-40 text-primary-900 dark:text-primary-100",children:"작은 대화"}),e.jsx(c,{labelText:"Id",placeholder:"아이디를 입력해 주세요.",type:"text",value:s,onChange:d}),e.jsx(c,{labelText:"Password",placeholder:"비밀번호를 입력해 주세요.",type:"password",value:r,onChange:x}),e.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[e.jsx(u,{disabled:!s&&!r,size:"large",text:"로그인",type:"submit",variant:"contained"}),e.jsx(u,{size:"large",text:"회원가입",type:"button",variant:"outlined",onClick:p})]})]})]})}export{E as default};
